import{j as e}from"./jsx-runtime-0DLF9kdB.js";import{r as a}from"./index-RUgJCupv.js";import{a as N}from"./index-t--hEgTQ.js";import{S as L}from"./index-D-_hNE0N.js";import{L as A,F as T}from"./components-B2hmsSLA.js";import"./index-Dou5fCe0.js";function k({image:i,title:r,description:d,buttonLink:l,onClick:o}){return e.jsxs("div",{className:"bg-white shadow-lg rounded-sm w-[450px] h-80 overflow-hidden text-center flex flex-col",children:[e.jsx("img",{src:i,alt:r,className:"w-full h-[160px] object-cover rounded-lg"}),e.jsxs("div",{className:"p-3",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("h2",{className:"text-xl font-semibold mt-4",children:r}),e.jsx(A,{to:l,className:"mt-2 inline-block text-[#1D1854] py-1 px-6 border border-[#1D1854] rounded-full hover:bg-[#1D1854] hover:text-white transition",children:"Abrir"})]}),e.jsx("div",{className:"mt-3 h-[60px] text-gray-600 text-sm text-pretty truncate",children:d}),e.jsx("div",{className:"flex flex-row-reverse text-[#faa307] font-bold",children:e.jsx("button",{onClick:o,children:"... ver m√°s"})})]})]})}function B({onFilter:i}){const[r,d]=a.useState(""),[l,o]=a.useState(""),[n,h]=a.useState(""),[x,m]=a.useState(""),p=s=>{s.preventDefault(),i({query:r,location:l,type:n,sector:x})};return e.jsx("div",{className:"p-10",children:e.jsxs(T,{method:"get",onSubmit:p,className:"border border-[#00266BB5] shadow-md p-9 flex flex-col gap-5",children:[e.jsx("input",{type:"text",name:"query",placeholder:"üîç    Busca tu pr√≥xima oportunidad",value:r,onChange:s=>d(s.target.value),className:"border border-gray-300 rounded-full p-2 mx-16 text-black bg-white"}),e.jsxs("div",{className:"flex flex-row items-center gap-2",children:[e.jsx("label",{htmlFor:"date-start",className:"px-4 text-center",children:"¬°Filtra tu b√∫squeda!"}),e.jsx("input",{type:"date",name:"dateStart",id:"date-start",className:"border border-gray-300 p-2 text-[#FAA307] bg-white"}),e.jsx("input",{type:"date",name:"dateEnd",id:"date-end",className:"border border-gray-300 p-2 text-[#FAA307] bg-white"})]}),e.jsxs("div",{className:"flex flex-row items-center gap-4",children:[e.jsxs("div",{className:"border border-[#D9D9D9]",children:[e.jsx("label",{htmlFor:"location",className:"px-4",children:"Ubicaci√≥n"}),e.jsxs("select",{name:"location",id:"location",value:l,onChange:s=>o(s.target.value),className:"border border-gray-300 p-2 text-black bg-white",children:[e.jsx("option",{value:"",children:"Todas"}),e.jsx("option",{value:"Medell√≠n",children:"Medell√≠n"}),e.jsx("option",{value:"Bogot√°",children:"Bogot√°"}),e.jsx("option",{value:"Armenia",children:"Armenia"}),e.jsx("option",{value:"Rionegro",children:"Rionegro"})]})]}),e.jsxs("div",{className:"border border-[#D9D9D9]",children:[e.jsx("label",{htmlFor:"type",className:"px-4",children:"Tipo de oportunidad"}),e.jsxs("select",{name:"type",id:"type",value:n,onChange:s=>h(s.target.value),className:"border border-gray-300 p-2 text-black bg-white",children:[e.jsx("option",{value:"",children:"Todas"}),e.jsx("option",{value:"Educativa",children:"Educativa"}),e.jsx("option",{value:"Laboral",children:"Laboral"})]})]}),e.jsxs("div",{className:"border border-[#D9D9D9]",children:[e.jsx("label",{htmlFor:"sector",className:"px-4",children:"Sector"}),e.jsxs("select",{name:"sector",id:"sector",value:x,onChange:s=>m(s.target.value),className:"border border-gray-300 p-2 text-black bg-white",children:[e.jsx("option",{value:"",children:"Todos"}),e.jsx("option",{value:"Tecnolog√≠a",children:"Tecnolog√≠a"}),e.jsx("option",{value:"Ciencias",children:"Ciencias"})]})]}),e.jsxs("div",{className:"flex flex-row gap-2",children:[e.jsx("button",{type:"submit",className:"px-4 py-2 bg-[#FAA307] text-white font-bold rounded",children:"B√∫squeda"}),e.jsx("button",{type:"reset",className:"px-4 py-2 border border-[#D9D9D9] rounded",children:e.jsx("a",{href:"/novedades",children:"Limpiar"})})]})]})]})})}function E(){const[i,r]=a.useState([]),[d,l]=a.useState([]),[o,n]=a.useState([]),[h,x]=a.useState(!0),[m,p]=a.useState(6),s={dots:!0,infinite:!0,speed:600,slidesToShow:3,slidesToScroll:1,autoplay:!0,autoplaySpeed:4e3,pauseOnHover:!0,arrows:!0,centerMode:!0,centerPadding:"40px",responsive:[{breakpoint:1200,settings:{slidesToShow:2,centerPadding:"30px"}},{breakpoint:800,settings:{slidesToShow:1,centerPadding:"10px"}}]};a.useEffect(()=>{N.get("http://3.142.142.153:5000/api/Services").then(t=>r(t.data)).catch(()=>r([]))},[]),a.useEffect(()=>{N.get("http://3.142.142.153:5000/api/Opportunities").then(t=>{l(t.data),n(t.data)}).catch(()=>{l([]),n([])}).finally(()=>x(!1))},[]);const y=t=>{const{query:u,location:b,type:g,sector:j}=t,w=d.filter(c=>{var f,v;const S=((f=c.name)==null?void 0:f.toLowerCase().includes(u.toLowerCase()))||((v=c.description)==null?void 0:v.toLowerCase().includes(u.toLowerCase())),F=b?c.location===b:!0,D=g?c.oportunity_type===g:!0,C=j?c.sector===j:!0;return S&&F&&D&&C});n(w),p(6)};return h?e.jsx("p",{className:"text-center text-gray-600 py-12",children:"Cargando contenido..."}):e.jsxs("div",{className:"flex flex-col items-center bg-[#F7FAFF] min-h-screen",children:[e.jsx("h1",{className:"text-[#1D1856] text-[70px] font-extrabold pt-8 pb-4",children:"Novedades"}),e.jsx("div",{className:"w-full max-w-6xl px-2 md:px-8 py-4",children:e.jsx(L,{...s,children:i.length===0?e.jsx("div",{className:"p-12 flex items-center justify-center h-64",children:e.jsx("p",{className:"text-gray-400",children:"No hay servicios disponibles."})}):i.map(t=>e.jsx("div",{className:"px-4",children:e.jsxs("div",{className:"bg-white shadow-xl rounded-2xl p-6 h-[370px] flex flex-col items-center justify-between transition-transform duration-300 hover:scale-105 border-2 border-blue-100",children:[e.jsx("img",{src:t.imageUrl||"https://picsum.photos/300/150?blur=2",alt:t.name,className:"rounded-lg h-36 w-full object-cover mb-4 shadow-md"}),e.jsx("h3",{className:"text-xl font-bold text-[#00266B] mb-2 text-center",children:t.name}),e.jsx("p",{className:"text-gray-700 text-sm py-2 text-center line-clamp-4",children:t.description})]})},t.id))})}),e.jsx("div",{className:"w-full max-w-5xl mx-auto mt-10 mb-6",children:e.jsx(B,{onFilter:y})}),e.jsx("h2",{className:"text-[#1D1856] text-[40px] font-bold mb-6",children:"¬°Oportunidades para estudiar!"}),o.length===0?e.jsx("p",{className:"text-gray-400 text-lg py-10",children:"No se encontraron oportunidades."}):e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"w-full flex justify-center",children:e.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-8 py-6 px-2 md:px-4 w-full max-w-6xl",children:o.slice(0,m).map(t=>e.jsx("div",{className:"flex",children:e.jsx(k,{image:t.imageUrl||"https://via.placeholder.com/300",title:t.name,description:t.description,buttonLink:`/oportunidades/${t.id}`,onClick:()=>{}})},t.id))})}),e.jsx("div",{className:"my-8"}),m<o.length&&e.jsx("button",{className:"mb-10 px-8 py-3 bg-[#FAA307] text-white font-bold rounded hover:bg-[#FFB454] transition-all",onClick:()=>p(t=>t+6),children:"‚ñº Mostrar m√°s resultados"})]})]})}function Q(){return e.jsx("div",{children:e.jsx(E,{})})}export{Q as default};
